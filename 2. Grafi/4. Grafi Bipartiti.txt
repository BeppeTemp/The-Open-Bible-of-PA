----------------------------------------------------------------------------------------------Definizioni

Grafo bipartito: Un grafo è bipartito, se L'insieme dei nodi può essere partizionato in due sottoinsiemi
X e Y t.c. ciascun arco del grafo ha un estremità in X e una in Y.

---------------------------------------------------------------------------------------------------Lemma

Lemma: un grafo dipartito non può contenere cicli dispari.
Dim: Graficamente in un ciclo pari non è possibile colorare, con due colori, in modo alternato i nodi
che lo compongono.

-----------------------------------------------------------------------------------------------Proprietà

Proprietà BFS Tree: Si consideri il BFS Tree del grafo G e sia (X,Y) un arco di G, all'interno del BFS
Tree i livelli di X e Y (estremi dell'arco) differiscono al più di 1.

Dim: Definiamo Li e Lj i livelli di X e Y, supponiamo che X venga scoperto prima:

Caso 1: Il nodo Y non è stato scoperto: siccome per ipotesi X viene scoperto prima di Y, Y viene
inserito o nel livello Li (se adiacente a qualche nodo del livello Li-1) o nel livello Li+1 (se
adiacete a un nodo del livello Li-1). Quindi in questo caso Lj=Li o Lj=Li+1

Caso 2: Il nodo Y non è stato ancora scoperto: siccome tra gli archi incidenti di X c'è anche (X,Y)
allora Y viene inserito in questo momento in Li+1. Quindi Lj=li+1.

--------------------------------------------------------------------------------------------Osservazione

Osservazione: Preso un grafo G connesso, siano L0,...,Lk i livelli dell'albero BFS ad esso associato: 
Caso 1: nel caso in cui non ci siano nodi appartenenti allo stesso livelli connessi, G sarà bipartito. 
Caso 2: se esistono nodi connessi nello stesso livello, il grafo non sarà bipartito.

Dim 1: per la proprietà del BFS Tree sappiamo che la distanza nell'albero BFS di due nodi facente parte
di un arco (X,Y) sarà al più di 1. Siccome sappiamo per ipotesi che non ci sono archi nei nodi nello
stesso livello possiamo colorare i nodi appartentti al grafo in modo alternato per livello.

Dim 2: possiamo dimostrare che esiste un ciclo dispari nel grafo sapendo per il lemma, che un grafo
contente un ciclo dispari non può essere bipartito. Infatti prendendo un arco(X,Y) appartente al livello
Lj, indchiamo con Z l'antenato comune più prossimo a X e Y, cosi facendo esisterà un percorso, X,Y,Z
o X,nodi padre non comuni,Z,nodi padre non comuni, Y che rappresenta un ciclo dispari nel grafo
(Disegnare per fa capire al compito).

------------------------------------------------------------------------------------------Implementazione
#Algoritmo che verifica se un grafo contiene un ciclo dispari e quindi se è bipartito o meno.
IsBipart(color,g){
    foreach (nodo u in g){
        foreach (arco(u,v) incidente in u)
            if(color[u]==color[v])
                return false
            }
        }
    }
    return true
}

#Algoritmo di visita BFS modificato per assegnare colore ai nodi in modo che possano essere analizzati
da IsBipart.
BFS(s){
    poni disc[s]=true e disc[u]=false per tutti i nodi u
    i=0
    inizializza L[0] in modo che contenga solo s
    while(i<n-2){
        inizializza L[i+1]
        foreach (nodo u in L[i]){
            foreach (arco(u,v) incidente su v){
                if(disc[v]==false){
                    disc[v]==true;
                    L[i+1].add(v)
                    if(i%2=0=){
                        color[v]=rosso
                    }else{
                        color[v]=blue
                    }
                }
            }
        }
        i=i+1
    }
}

--------------------------------------------------------------------------------------------------------